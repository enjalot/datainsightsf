<html> <head>
<title>Data Insight: Team 11</title>
<link href="style.css" media="screen" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="processing.js"></script>
<script type="text/javascript" src="init.js"></script>
<script type="text/javascript" src="data.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<!-- `<script type="text/javascript" src="jquery.pack.js"></script> -->

</head>
<body>

<script type="text/javascript">
    //testing Factual
    console.log("Testing");
    //factual_query();
</script>


<script type="application/processing">
PImage mapImage;
var dataMin = Number.MAX_VALUE;
var dataMax = Number.MIN_VALUE;

//screen min and max
float[] smin = {0, 0};
float[] smax = {823, 817};
//latlon min and max
float[] llmin = { -126.6, 14.3 };
float[] llmax = { -68.6, 56.1 };

float[2] latlon2xy(float lat, float lon)
{
    //width and height in latlon
    float llw = llmax[0] - llmin[0];
    float llh = llmax[1] - llmin[1];
    float llx = (lat - llmin[0]) / llw;
    float lly = (lon - llmin[1]) / llh;
    float[] xy = { llx * smax[0], lly * smax[1] };
    return xy;
}


void setup() 
{
	size(smax[0], smax[1]);
	mapImage = loadImage("map.png");

}

void draw() 
{

	background(255);
	image(mapImage, 0, 0); 
	// Drawing attributes for the ellipses.
	smooth( );
	fill(192, 0, 0);
	noStroke( );

    /*
	for (int row = 0; row < rowCount; row++) {
		String abbrev = dataTable.getRowName(row);
		float x = locationTable.getFloat(abbrev, 1);
		float y = locationTable.getFloat(abbrev, 2);
		drawData(x, y, abbrev);
	}	
    */
    drawCircle(400, 400, 50, 50);

    float[2] xy = latlon2xy(-84.29503, 30.4502);
    drawCircle(xy[0], xy[1], 50, 50);

}

void drawCircle(float x, float y, float w, float h)
{
    ellipse(x, y, w, h);
}

// Map the size of the ellipse to the data value
/*
void drawData(float x, float y, String abbrev) {
	// Get data value for state
	float value = dataTable.getFloat(abbrev, 1);
	// Re-map the value to a number between 2 and 40
	float mapped = map(value, dataMin, dataMax, 2, 40);
	// Draw an ellipse for this item
	ellipse(x, y, mapped, mapped); 
}
*/

</script><canvas></canvas>
<div style="height:0px;width:0px;overflow:hidden;"><img src='map.png' id='map.png'/></div>
</body> </html>

